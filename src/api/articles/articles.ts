/**
 * Generated by orval v6.29.1 üç∫
 * Do not edit manually.
 * MyApp API
 * OpenAPI spec version: 1.0.0
 */
import { useMutation, useQuery } from '@tanstack/react-query';
import type {
  MutationFunction,
  QueryFunction,
  QueryKey,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from '@tanstack/react-query';
import axios from 'axios';
import type { AxiosError, AxiosRequestConfig, AxiosResponse } from 'axios';

import type {
  ArticleDetails,
  ArticleResponseSchema,
  ArticlesApiCreateArticleBody,
  ArticlesApiGetPublicArticlesParams,
  ArticlesApiUpdateArticleBody,
  Message,
} from '.././schemas';

/**
 * @summary Create Article
 */
export const articlesApiCreateArticle = (
  articlesApiCreateArticleBody: ArticlesApiCreateArticleBody,
  options?: AxiosRequestConfig
): Promise<AxiosResponse<ArticleResponseSchema>> => {
  const formData = new FormData();
  if (articlesApiCreateArticleBody.image_file !== undefined) {
    formData.append('image_file', articlesApiCreateArticleBody.image_file);
  }
  if (articlesApiCreateArticleBody.pdf_file !== undefined) {
    formData.append('pdf_file', articlesApiCreateArticleBody.pdf_file);
  }
  formData.append('details', JSON.stringify(articlesApiCreateArticleBody.details));

  return axios.post(`http://localhost:8000/api/articles/articles/`, formData, options);
};

export const getArticlesApiCreateArticleMutationOptions = <
  TError = AxiosError<Message>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof articlesApiCreateArticle>>,
    TError,
    { data: ArticlesApiCreateArticleBody },
    TContext
  >;
  axios?: AxiosRequestConfig;
}): UseMutationOptions<
  Awaited<ReturnType<typeof articlesApiCreateArticle>>,
  TError,
  { data: ArticlesApiCreateArticleBody },
  TContext
> => {
  const { mutation: mutationOptions, axios: axiosOptions } = options ?? {};

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof articlesApiCreateArticle>>,
    { data: ArticlesApiCreateArticleBody }
  > = (props) => {
    const { data } = props ?? {};

    return articlesApiCreateArticle(data, axiosOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type ArticlesApiCreateArticleMutationResult = NonNullable<
  Awaited<ReturnType<typeof articlesApiCreateArticle>>
>;
export type ArticlesApiCreateArticleMutationBody = ArticlesApiCreateArticleBody;
export type ArticlesApiCreateArticleMutationError = AxiosError<Message>;

/**
 * @summary Create Article
 */
export const useArticlesApiCreateArticle = <
  TError = AxiosError<Message>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof articlesApiCreateArticle>>,
    TError,
    { data: ArticlesApiCreateArticleBody },
    TContext
  >;
  axios?: AxiosRequestConfig;
}): UseMutationResult<
  Awaited<ReturnType<typeof articlesApiCreateArticle>>,
  TError,
  { data: ArticlesApiCreateArticleBody },
  TContext
> => {
  const mutationOptions = getArticlesApiCreateArticleMutationOptions(options);

  return useMutation(mutationOptions);
};
/**
 * @summary Update Article
 */
export const articlesApiUpdateArticle = (
  articleId: number,
  articlesApiUpdateArticleBody: ArticlesApiUpdateArticleBody,
  options?: AxiosRequestConfig
): Promise<AxiosResponse<ArticleResponseSchema>> => {
  const formData = new FormData();
  if (articlesApiUpdateArticleBody.image_file !== undefined) {
    formData.append('image_file', articlesApiUpdateArticleBody.image_file);
  }
  if (articlesApiUpdateArticleBody.pdf_file !== undefined) {
    formData.append('pdf_file', articlesApiUpdateArticleBody.pdf_file);
  }
  formData.append('details', JSON.stringify(articlesApiUpdateArticleBody.details));

  return axios.put(`http://localhost:8000/api/articles/${articleId}`, formData, options);
};

export const getArticlesApiUpdateArticleMutationOptions = <
  TError = AxiosError<Message>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof articlesApiUpdateArticle>>,
    TError,
    { articleId: number; data: ArticlesApiUpdateArticleBody },
    TContext
  >;
  axios?: AxiosRequestConfig;
}): UseMutationOptions<
  Awaited<ReturnType<typeof articlesApiUpdateArticle>>,
  TError,
  { articleId: number; data: ArticlesApiUpdateArticleBody },
  TContext
> => {
  const { mutation: mutationOptions, axios: axiosOptions } = options ?? {};

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof articlesApiUpdateArticle>>,
    { articleId: number; data: ArticlesApiUpdateArticleBody }
  > = (props) => {
    const { articleId, data } = props ?? {};

    return articlesApiUpdateArticle(articleId, data, axiosOptions);
  };

  return { mutationFn, ...mutationOptions };
};

export type ArticlesApiUpdateArticleMutationResult = NonNullable<
  Awaited<ReturnType<typeof articlesApiUpdateArticle>>
>;
export type ArticlesApiUpdateArticleMutationBody = ArticlesApiUpdateArticleBody;
export type ArticlesApiUpdateArticleMutationError = AxiosError<Message>;

/**
 * @summary Update Article
 */
export const useArticlesApiUpdateArticle = <
  TError = AxiosError<Message>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof articlesApiUpdateArticle>>,
    TError,
    { articleId: number; data: ArticlesApiUpdateArticleBody },
    TContext
  >;
  axios?: AxiosRequestConfig;
}): UseMutationResult<
  Awaited<ReturnType<typeof articlesApiUpdateArticle>>,
  TError,
  { articleId: number; data: ArticlesApiUpdateArticleBody },
  TContext
> => {
  const mutationOptions = getArticlesApiUpdateArticleMutationOptions(options);

  return useMutation(mutationOptions);
};
/**
 * @summary Get Article
 */
export const articlesApiGetArticle = (
  articleSlug: string,
  options?: AxiosRequestConfig
): Promise<AxiosResponse<ArticleDetails>> => {
  return axios.get(`http://localhost:8000/api/articles/article/${articleSlug}`, options);
};

export const getArticlesApiGetArticleQueryKey = (articleSlug: string) => {
  return [`http://localhost:8000/api/articles/article/${articleSlug}`] as const;
};

export const getArticlesApiGetArticleQueryOptions = <
  TData = Awaited<ReturnType<typeof articlesApiGetArticle>>,
  TError = AxiosError<Message>,
>(
  articleSlug: string,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof articlesApiGetArticle>>, TError, TData>
    >;
    axios?: AxiosRequestConfig;
  }
) => {
  const { query: queryOptions, axios: axiosOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getArticlesApiGetArticleQueryKey(articleSlug);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof articlesApiGetArticle>>> = ({ signal }) =>
    articlesApiGetArticle(articleSlug, { signal, ...axiosOptions });

  return { queryKey, queryFn, enabled: !!articleSlug, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof articlesApiGetArticle>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ArticlesApiGetArticleQueryResult = NonNullable<
  Awaited<ReturnType<typeof articlesApiGetArticle>>
>;
export type ArticlesApiGetArticleQueryError = AxiosError<Message>;

/**
 * @summary Get Article
 */
export const useArticlesApiGetArticle = <
  TData = Awaited<ReturnType<typeof articlesApiGetArticle>>,
  TError = AxiosError<Message>,
>(
  articleSlug: string,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof articlesApiGetArticle>>, TError, TData>
    >;
    axios?: AxiosRequestConfig;
  }
): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getArticlesApiGetArticleQueryOptions(articleSlug, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
};

/**
 * Fetches and filters articles visible to the public based on their submission status
and community affiliation.

This endpoint allows for filtering and sorting of articles that:
i) Are not submitted to any community.
ii) Are published by communities.
iii) Are submitted and accepted (but not published) in a public community.

Parameters:
- search (str, optional): Filter articles by title.
- community (int, optional): Filter articles by community ID.
- sort (str, optional): Sort articles ('latest', 'popular', 'older').
- rating (int, optional): Filter articles by minimum rating.

Returns:
- List[ArticleSchema]: Serialized articles matching the filters.
 * @summary Get Public Articles
 */
export const articlesApiGetPublicArticles = (
  params?: ArticlesApiGetPublicArticlesParams,
  options?: AxiosRequestConfig
): Promise<AxiosResponse<ArticleDetails[]>> => {
  return axios.get(`http://localhost:8000/api/articles/`, {
    ...options,
    params: { ...params, ...options?.params },
  });
};

export const getArticlesApiGetPublicArticlesQueryKey = (
  params?: ArticlesApiGetPublicArticlesParams
) => {
  return [`http://localhost:8000/api/articles/`, ...(params ? [params] : [])] as const;
};

export const getArticlesApiGetPublicArticlesQueryOptions = <
  TData = Awaited<ReturnType<typeof articlesApiGetPublicArticles>>,
  TError = AxiosError<unknown>,
>(
  params?: ArticlesApiGetPublicArticlesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof articlesApiGetPublicArticles>>, TError, TData>
    >;
    axios?: AxiosRequestConfig;
  }
) => {
  const { query: queryOptions, axios: axiosOptions } = options ?? {};

  const queryKey = queryOptions?.queryKey ?? getArticlesApiGetPublicArticlesQueryKey(params);

  const queryFn: QueryFunction<Awaited<ReturnType<typeof articlesApiGetPublicArticles>>> = ({
    signal,
  }) => articlesApiGetPublicArticles(params, { signal, ...axiosOptions });

  return { queryKey, queryFn, ...queryOptions } as UseQueryOptions<
    Awaited<ReturnType<typeof articlesApiGetPublicArticles>>,
    TError,
    TData
  > & { queryKey: QueryKey };
};

export type ArticlesApiGetPublicArticlesQueryResult = NonNullable<
  Awaited<ReturnType<typeof articlesApiGetPublicArticles>>
>;
export type ArticlesApiGetPublicArticlesQueryError = AxiosError<unknown>;

/**
 * @summary Get Public Articles
 */
export const useArticlesApiGetPublicArticles = <
  TData = Awaited<ReturnType<typeof articlesApiGetPublicArticles>>,
  TError = AxiosError<unknown>,
>(
  params?: ArticlesApiGetPublicArticlesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof articlesApiGetPublicArticles>>, TError, TData>
    >;
    axios?: AxiosRequestConfig;
  }
): UseQueryResult<TData, TError> & { queryKey: QueryKey } => {
  const queryOptions = getArticlesApiGetPublicArticlesQueryOptions(params, options);

  const query = useQuery(queryOptions) as UseQueryResult<TData, TError> & { queryKey: QueryKey };

  query.queryKey = queryOptions.queryKey;

  return query;
};
